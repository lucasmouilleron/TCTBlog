---
layout: post
title: Génération de PDF dans le navigateur
categories: [code]
tags: [js, pdf, client]
picture: js-pdf.jpg
---

_PDF est le format de fichier le plus utilisé dans le monde_ pour stocker des documents en conservant leur apparence (polices, images, etc.) quelque soit l'environnement utilisé par le lecteur.

Ce format permet notamment de gérer des bons de réductions, des tickets de spectacle ou encore des billets de voyage puisqu'il permet de conserver les codes barres, qrcodes, images ou médias nécessaires à _l'authentification de la transaction_.

##Génération dans le navigateur
Traditionnellement, une application de bons de réductions génère les PDFs associés à ces bons sur les serveurs applicatifs. Les PDFs sont ensuite téléchargeables depuis le navigateur de l'utilisateur.

**Il est maintenant possible de générer et télécharger le fichier PDF côté client _(ie dans le navigateur)_.**

Le scénario pratique est le suivant :

- Une web app propose à ses utilisateurs de télécharger des bons de réduction
- Un utilisateur est éligible pour un bon de réduction et clique sur le bouton "télécharger mon bon de réduction"
- L'API permet de récupérer dans le navigateur le code barre et les informations relatives au bon de réduction
- Le PDF et le code barre sont générés dans le navigateur de l'utilisateur
- Un écran s'affiche et présente le PDF que l'utilisateur peut sauvegarder

##Avantages
- L'avantage principale est de soulager les serveurs applicatif en distribuant l'opération de génération des PDFs sur chaque utilisateur
- Corrolaire, les échanges entre les utilisateurs et les serveurs sont réduits à l'information sous-jacente (le code barre, le code, etc.) puisque le PDF n'est plus transmis du serveur vers le navigateur

##Compatibilité
- Navigateurs modernes, idéal pour une web app ou web app embarquée dans un conteneur mobile (PhoneGap)
- Navigateurs plus ancien pour des PDFs plus petits

##Ressources :
- [Librairie JSPDF](http://jspdf.com) de génération des PDFs côté navigateur
- [Librairie jQueryBarCode](http://code.google.com/p/jquery-barcode/) de génération des codes barres côté navigateur
- [Librairie QRCode.js](http://davidshimjs.github.io/qrcodejs/) de génération des QRCodes côté navigateur